{% extends "base.html" %}
{% load static %}

{% block title %}Reservation - Il Mercato Hotel{% endblock title %}

{% block content %}
<section class="bg-gray-50 dark:bg-gray-900 py-24 min-h-screen transition-colors duration-300">
    <div class="mx-auto max-w-screen-xl px-4 sm:px-6 lg:px-8" x-data="{ step: 1, selectedRoom: '', roomPrice: 0 }">
        <h2 class="text-3xl font-serif font-bold text-gray-900 dark:text-white mb-12 text-center sm:text-4xl">Secure
            Your Reservation</h2>

        <!-- Progress Steps -->
        <div class="mb-12 max-w-3xl mx-auto">
            <h2 class="sr-only">Steps</h2>
            <div
                class="relative after:absolute after:inset-x-0 after:top-1/2 after:block after:h-0.5 after:-translate-y-1/2 after:rounded-lg after:bg-gray-200 dark:after:bg-gray-800">
                <ol class="relative z-10 flex justify-between text-sm font-medium text-gray-500">
                    <li class="flex items-center gap-2 bg-gray-50 dark:bg-gray-900 p-2 transition-colors duration-300"
                        :class="{ 'text-gold-600 dark:text-gold-400': step >= 1 }">
                        <span
                            class="h-10 w-10 rounded-full flex items-center justify-center text-xs font-bold shadow-lg ring-4 ring-gray-50 dark:ring-gray-900 transition-all duration-300"
                            :class="step >= 1 ? 'bg-gold-600 text-white' : 'bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400'">
                            1 </span>
                        <span class="hidden sm:block uppercase tracking-wider text-xs font-bold"> Dates </span>
                    </li>

                    <li class="flex items-center gap-2 bg-gray-50 dark:bg-gray-900 p-2 transition-colors duration-300"
                        :class="{ 'text-gold-600 dark:text-gold-400': step >= 2 }">
                        <span
                            class="h-10 w-10 rounded-full flex items-center justify-center text-xs font-bold shadow-lg ring-4 ring-gray-50 dark:ring-gray-900 transition-all duration-300"
                            :class="step >= 2 ? 'bg-gold-600 text-white' : 'bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400'">
                            2 </span>
                        <span class="hidden sm:block uppercase tracking-wider text-xs font-bold"> Room </span>
                    </li>

                    <li class="flex items-center gap-2 bg-gray-50 dark:bg-gray-900 p-2 transition-colors duration-300"
                        :class="{ 'text-gold-600 dark:text-gold-400': step >= 3 }">
                        <span
                            class="h-10 w-10 rounded-full flex items-center justify-center text-xs font-bold shadow-lg ring-4 ring-gray-50 dark:ring-gray-900 transition-all duration-300"
                            :class="step >= 3 ? 'bg-gold-600 text-white' : 'bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400'">
                            3 </span>
                        <span class="hidden sm:block uppercase tracking-wider text-xs font-bold"> Details </span>
                    </li>
                </ol>
            </div>
        </div>

        <div
            class="rounded-3xl bg-white dark:bg-dark-800 p-8 shadow-2xl border border-gray-100 dark:border-gray-800 lg:col-span-3 lg:p-12 max-w-4xl mx-auto transition-all duration-300">
            <!-- Step 1: Dates & Guests -->
            <div x-show="step === 1" x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 transform scale-95"
                x-transition:enter-end="opacity-100 transform scale-100">
                <h3
                    class="text-2xl font-serif text-gray-900 dark:text-white mb-8 border-b border-gray-100 dark:border-gray-700 pb-4">
                    Select Dates & Guests</h3>
                <div class="grid grid-cols-1 gap-8 sm:grid-cols-2">
                    <div>
                        <label
                            class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3"
                            for="checkin">Check-in</label>
                        <input
                            class="w-full rounded-2xl border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-4 text-sm text-gray-900 dark:text-white shadow-sm focus:border-gold-500 focus:ring-gold-500 transition-colors"
                            placeholder="Check-in Date" type="date" id="checkin" />
                    </div>

                    <div>
                        <label
                            class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3"
                            for="checkout">Check-out</label>
                        <input
                            class="w-full rounded-2xl border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-4 text-sm text-gray-900 dark:text-white shadow-sm focus:border-gold-500 focus:ring-gold-500 transition-colors"
                            placeholder="Check-out Date" type="date" id="checkout" />
                    </div>
                </div>
                <div class="mt-8">
                    <label
                        class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3"
                        for="guests">Guests</label>
                    <select
                        class="w-full rounded-2xl border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-4 text-sm text-gray-900 dark:text-white shadow-sm focus:border-gold-500 focus:ring-gold-500 transition-colors"
                        id="guests">
                        <option>1 Adult</option>
                        <option>2 Adults</option>
                        <option>2 Adults, 1 Child</option>
                        <option>2 Adults, 2 Children</option>
                    </select>
                </div>

                <div class="mt-10 flex justify-end">
                    <button @click="step = 2"
                        class="inline-block w-full rounded-full bg-gradient-to-r from-gold-400 to-gold-600 px-8 py-4 text-sm font-bold text-white shadow-lg shadow-gold-500/20 transition-all hover:from-gold-500 hover:to-gold-700 hover:shadow-gold-500/40 hover:-translate-y-0.5 sm:w-auto uppercase tracking-widest">
                        Next Step
                    </button>
                </div>
            </div>

            <!-- Step 2: Select Room -->
            <div x-show="step === 2" x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 transform scale-95"
                x-transition:enter-end="opacity-100 transform scale-100" x-cloak>
                <h3
                    class="text-2xl font-serif text-gray-900 dark:text-white mb-8 border-b border-gray-100 dark:border-gray-700 pb-4">
                    Choose Accommodation</h3>
                <div class="space-y-6">
                    <!-- Standard -->
                    <label
                        class="relative block rounded-3xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-4 sm:p-6 hover:border-gold-500 dark:hover:border-gold-500 cursor-pointer transition shadow-sm hover:shadow-lg group"
                        :class="{ 'border-gold-500 ring-1 ring-gold-500': selectedRoom === 'standard' }">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-6">
                                <img src="https://images.unsplash.com/photo-1618773928121-c32242e63f39?auto=format&fit=crop&w=150&q=80"
                                    class="w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-2xl shadow-sm group-hover:scale-105 transition-transform" />
                                <div>
                                    <h3 class="font-bold text-gray-900 dark:text-white text-lg font-serif">Standard Room
                                    </h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Starting from <span
                                            class="text-gold-600 dark:text-gold-400 font-bold">$150</span> / night</p>
                                </div>
                            </div>
                            <input type="radio" name="room" value="standard" x-model="selectedRoom"
                                @click="roomPrice=150"
                                class="h-6 w-6 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gold-600 focus:ring-gold-500">
                        </div>
                    </label>

                    <!-- Superior -->
                    <label
                        class="relative block rounded-3xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-4 sm:p-6 hover:border-gold-500 dark:hover:border-gold-500 cursor-pointer transition shadow-sm hover:shadow-lg group"
                        :class="{ 'border-gold-500 ring-1 ring-gold-500': selectedRoom === 'superior' }">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-6">
                                <img src="https://images.unsplash.com/photo-1591088398332-8a7791972843?auto=format&fit=crop&w=150&q=80"
                                    class="w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-2xl shadow-sm group-hover:scale-105 transition-transform" />
                                <div>
                                    <h3 class="font-bold text-gray-900 dark:text-white text-lg font-serif">Superior Room
                                    </h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Starting from <span
                                            class="text-gold-600 dark:text-gold-400 font-bold">$200</span> / night</p>
                                </div>
                            </div>
                            <input type="radio" name="room" value="superior" x-model="selectedRoom"
                                @click="roomPrice=200"
                                class="h-6 w-6 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gold-600 focus:ring-gold-500">
                        </div>
                    </label>

                    <!-- Deluxe -->
                    <label
                        class="relative block rounded-3xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-4 sm:p-6 hover:border-gold-500 dark:hover:border-gold-500 cursor-pointer transition shadow-sm hover:shadow-lg group"
                        :class="{ 'border-gold-500 ring-1 ring-gold-500': selectedRoom === 'deluxe' }">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-6">
                                <img src="https://images.unsplash.com/photo-1611892440504-42a792e24d32?auto=format&fit=crop&w=150&q=80"
                                    class="w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-2xl shadow-sm group-hover:scale-105 transition-transform" />
                                <div>
                                    <h3 class="font-bold text-gray-900 dark:text-white text-lg font-serif">Deluxe Suite
                                    </h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Starting from <span
                                            class="text-gold-600 dark:text-gold-400 font-bold">$250</span> / night</p>
                                </div>
                            </div>
                            <input type="radio" name="room" value="deluxe" x-model="selectedRoom" @click="roomPrice=250"
                                class="h-6 w-6 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gold-600 focus:ring-gold-500">
                        </div>
                    </label>

                    <!-- Family -->
                    <label
                        class="relative block rounded-3xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-4 sm:p-6 hover:border-gold-500 dark:hover:border-gold-500 cursor-pointer transition shadow-sm hover:shadow-lg group"
                        :class="{ 'border-gold-500 ring-1 ring-gold-500': selectedRoom === 'family' }">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-6">
                                <img src="https://images.unsplash.com/photo-1596394516093-501ba68a0ba6?auto=format&fit=crop&w=150&q=80"
                                    class="w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-2xl shadow-sm group-hover:scale-105 transition-transform" />
                                <div>
                                    <h3 class="font-bold text-gray-900 dark:text-white text-lg font-serif">Family
                                        Residence</h3>
                                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Starting from <span
                                            class="text-gold-600 dark:text-gold-400 font-bold">$400</span> / night</p>
                                </div>
                            </div>
                            <input type="radio" name="room" value="family" x-model="selectedRoom" @click="roomPrice=400"
                                class="h-6 w-6 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gold-600 focus:ring-gold-500">
                        </div>
                    </label>
                </div>

                <div class="mt-10 flex justify-between items-center">
                    <button @click="step = 1"
                        class="text-gray-500 dark:text-gray-400 underline hover:text-gold-600 dark:hover:text-white transition text-sm uppercase tracking-wide font-medium">Back</button>
                    <button @click="step = 3" :disabled="!selectedRoom"
                        :class="{ 'opacity-50 cursor-not-allowed': !selectedRoom }"
                        class="inline-block w-full rounded-full bg-gradient-to-r from-gold-400 to-gold-600 px-8 py-4 text-sm font-bold text-white shadow-lg shadow-gold-500/20 transition-all hover:from-gold-500 hover:to-gold-700 hover:shadow-gold-500/40 hover:-translate-y-0.5 sm:w-auto uppercase tracking-widest">
                        Next Step
                    </button>
                </div>
            </div>

            <!-- Step 3: Details -->
            <div x-show="step === 3" x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 transform scale-95"
                x-transition:enter-end="opacity-100 transform scale-100" x-cloak>
                <h3
                    class="text-2xl font-serif text-gray-900 dark:text-white mb-8 border-b border-gray-100 dark:border-gray-700 pb-4">
                    Guest Details</h3>
                <div class="grid grid-cols-1 gap-8 sm:grid-cols-2">
                    <div>
                        <label
                            class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3"
                            for="email">Email Address</label>
                        <input
                            class="w-full rounded-2xl border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-4 text-sm text-gray-900 dark:text-white shadow-sm focus:border-gold-500 focus:ring-gold-500 transition-colors"
                            placeholder="john@example.com" type="email" id="email" />
                    </div>

                    <div>
                        <label
                            class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3"
                            for="phone">Phone Number</label>
                        <input
                            class="w-full rounded-2xl border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-4 text-sm text-gray-900 dark:text-white shadow-sm focus:border-gold-500 focus:ring-gold-500 transition-colors"
                            placeholder="+1 234 567 890" type="tel" id="phone" />
                    </div>
                </div>
                <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 mt-8">
                    <div>
                        <label
                            class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3"
                            for="fname">First Name</label>
                        <input
                            class="w-full rounded-2xl border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-4 text-sm text-gray-900 dark:text-white shadow-sm focus:border-gold-500 focus:ring-gold-500 transition-colors"
                            placeholder="John" type="text" id="fname" />
                    </div>
                    <div>
                        <label
                            class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3"
                            for="lname">Last Name</label>
                        <input
                            class="w-full rounded-2xl border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-4 text-sm text-gray-900 dark:text-white shadow-sm focus:border-gold-500 focus:ring-gold-500 transition-colors"
                            placeholder="Doe" type="text" id="lname" />
                    </div>
                </div>

                <div class="mt-8">
                    <label
                        class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3"
                        for="message">Special Requests</label>
                    <textarea
                        class="w-full rounded-2xl border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-4 text-sm text-gray-900 dark:text-white shadow-sm focus:border-gold-500 focus:ring-gold-500 transition-colors"
                        placeholder="Allergies, arrival time, etc." rows="4" id="message"></textarea>
                </div>

                <div class="mt-10 flex justify-between items-center">
                    <button @click="step = 2"
                        class="text-gray-500 dark:text-gray-400 underline hover:text-gold-600 dark:hover:text-white transition text-sm uppercase tracking-wide font-medium">Back</button>
                    <button type="submit"
                        class="inline-block w-full rounded-full bg-gradient-to-r from-gold-400 to-gold-600 px-8 py-4 text-sm font-bold text-white shadow-lg shadow-gold-500/20 transition-all hover:from-gold-500 hover:to-gold-700 hover:shadow-gold-500/40 hover:-translate-y-0.5 sm:w-auto uppercase tracking-widest">
                        Confirm Reservation
                    </button>
                </div>
            </div>

        </div>
    </div>
</section>
{% endblock content %}